---
title: "My Shiny App for Machine Learning"
author: "Puneet Singla"
date: "8/18/2021"
output: slidy_presentation
---

## How to use this application?

My Shiny app is running a simple Machine Learning model based on the user specified list of predictors

1. Step 1: Select the predictors of your choice
2. Step 2: Click Submit
3. Step 3: Sit back, relax and see the Magic!!

## How does this application work?

This application is using the IRIS dataset and creating a RPART Machine Learning model using the Train function from CARET package.

1. Step 1: Based on user selection of predictors, create a subset of IRIS dataset
2. Step 2: Divide the IRIS data into Training (60%) & Test datasets (40%)
3. Step 3: Train the Machine Learning model using Training dataset & plot the results
4. Step 4: Calculate the in-Sample & Out-of-Sample error rate
5. Step 5: Pass the calculated values from Server.R to UI.R to display on the UI

## Server Calculation (1/2)

```{r message=FALSE, echo=FALSE}
library(shiny)
library(caret)
library(rattle)
set.seed(123)
```

Assuming a user selected only Petal Length to predict the Species. Server.R code will calculate IRIS data subset to have only Petal Length and Species column

```{r echo=TRUE}
iris <- iris[,c(3,5)]     #Petal Length is at position 3 and Species is at position 5
ml_inTrain <- createDataPartition(iris$Species, p = 0.6)[[1]]
ml_train <- iris[ml_inTrain,]
ml_test <- iris[-ml_inTrain,]
dim(ml_train)
dim(ml_test)
```


## Server Calculation (2/2)

Assuming a user selected only Petal Length to predict the Species.
Server.R code will calculate IRIS data subset to have only Petal Length and Species column

```{r echo=TRUE}
ml_mdl <- train(Species ~ ., data = ml_train, method = "rpart")
fancyRpartPlot(ml_mdl$finalModel)
paste(round((1-confusionMatrix(ml_train$Species,predict(ml_mdl,ml_train))$overall[1])*100,2), "%", sep="")
paste(round((1-confusionMatrix(ml_test$Species,predict(ml_mdl,ml_test))$overall[1])*100,2), "%", sep="")
```